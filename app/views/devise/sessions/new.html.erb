<div class="user-login-page">
  <div class="user-login-container">

    <div class="user-login-header">
      <div class="user-login-logo">塾アプリ</div>
      <div class="user-login-subtitle">生徒・保護者ログイン</div>
    </div>

    <div class="user-login-card">
      <h2 class="user-login-title">ログイン</h2>

      <%= render "shared/validation_errors", resource: @user %>


      <%= form_with model: resource,
            as: resource_name,
            url: session_path(resource_name),
            local: true do |f| %>

        <div class="user-form-group">
          <label class="user-form-label">メールアドレス</label>
          <div style="position: relative;">
            <span class="user-form-icon">✉️</span>
            <%= f.email_field :email,
                  autofocus: true,
                  autocomplete: "email",
                  class: "user-form-field" %>
          </div>
        </div>

        <div class="user-form-group">
          <label class="user-form-label">パスワード</label>
          <div style="position: relative;">
            <span class="user-form-icon">🔒</span>
            <%= f.password_field :password,
                  autocomplete: "current-password",
                  class: "user-form-field" %>
          </div>
        </div>

        <% if devise_mapping.rememberable? %>
          <div class="user-login-options">
            <label>
              <%= f.check_box :remember_me %>
              ログイン情報を保持
            </label>
            <%= link_to "パスワードを忘れた場合", new_password_path(resource_name) %>
          </div>
        <% end %>

        <%= f.submit t("devise.sessions.new.sign_in"),
              class: "user-login-btn" %>
      <% end %>

      <div class="user-login-divider">または</div>

      <%= button_to "ゲスト保護者でログイン",
            users_guest_parent_sign_in_path,
            method: :post,
            class: "user-guest-btn" %>
    </div>

  </div>
</div>