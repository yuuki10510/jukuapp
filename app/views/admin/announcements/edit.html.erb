<h1 class="page-title">お知らせ編集</h1>

<%= form_with model: @announcement,
              url: admin_announcement_path(@announcement),
              method: :patch,
              local: true,
              class: "form-card" do |f| %>

  <div class="form-group">
    <%= f.label :title, "タイトル", class: "form-label" %>
    <%= f.text_field :title, class: "form-input" %>
  </div>

  <div class="form-group">
    <%= f.label :body, "本文", class: "form-label" %>
    <%= f.text_area :body, rows: 6, class: "form-textarea" %>
  </div>

  <div class="form-group">
    <%= f.label :target, "配信対象", class: "form-label" %>
    <%= f.select :target,
      [
        ["全員", "everyone"],
        ["保護者のみ", "parent"],
        ["生徒のみ", "student"]
      ],
      {},
      class: "form-select" %>
  </div>

  <!-- ▼ アクションをまとめる -->
  <div class="form-actions form-actions-stack">
    <%= f.submit "更新する", class: "btn-primary" %>

    <p class="danger-text">この操作は取り消せません。</p>

    <%= button_to "このお知らせを削除する",
          admin_announcement_path(@announcement),
          method: :delete,
          data: { confirm: "本当に削除しますか？" },
          class: "btn-danger" %>
  <div class="back-link">
    <%= link_to "← お知らせ一覧に戻る", admin_announcements_path %>
  </div>

<% end %>

