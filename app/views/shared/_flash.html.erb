<% flash.each do |type, message| %>
  <% next if controller_name == "sessions" &&
             action_name == "new" &&
             type.to_sym == :alert &&
             request.get? %>

  <% css_class =
      case type.to_sym
      when :notice then "flash flash-notice"
      when :alert  then "flash flash-alert"
      when :error  then "flash flash-error"
      else "flash"
      end %>

  <div class="<%= css_class %>">
    <span class="flash-message"><%= message %></span>
  </div>
<% end %>